$color-bg: #79BEDB;
$color-text: #fff;
$color-panels: lighten(#ffc148, 0%);

.panel-letters {
    background-color: darken($color-bg, 10%);
    animation: changeColors 10s linear infinite;

    .job-title {
        .letter-holder {
            perspective: 2000px;
            height: $spacing*3 + 4px;
            padding: $spacing/2;
            overflow: hidden;
        }


        .letter {
            position: relative;
            z-index: 1;

            height: inherit;

            // transition: all 0.1s linear;
            transform-style: preserve-3d;

            transform: rotateY(45deg) rotateX(45deg);
            // animation: spin-vertical 5s infinite linear;

            span[class^="char"] {
                font-size: $spacing*2;
                line-height: $spacing*3;
                vertical-align: top;

                width: $spacing*3;

                overflow: hidden;
                position: relative;

                padding: 0 $spacing/2 0;

                color: $color-text;
                background-color: $color-panels;
                border: 2px solid #FFF;

                text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
                box-shadow: 0px 0px 25px 0px rgba(0, 0, 0, 0.3);

                &:before {
                    display: block;
                    content: '';
                    width: 100%;
                    height: 50%;

                    background: -moz-linear-gradient(top,  rgba(0,0,0,0) 0%, rgba(0,0,0,0.15) 100%); /* FF3.6+ */
                    background: -webkit-linear-gradient(top,  rgba(0,0,0,0) 0%, rgba(0,0,0,0.15) 100%); /* Chrome10+,Safari5.1+ */
                    background: -ms-linear-gradient(top,  rgba(0,0,0,0) 0%, rgba(0,0,0,0.15) 100%); /* IE10+ */
                    background: linear-gradient(to bottom,  rgba(0,0,0,0) 0%, rgba(0,0,0,0.15) 100%); /* W3C */

                    position: absolute;
                    bottom: 0;
                    left: 0;

                }
            }


            span[class*="face"] {
                position: absolute;
                background-color: #FFF;
            }

            .right-face,
            .left-face {
                width: 20px;
                height: 100%;
                bottom: 0;
            }


            .left-face {
                left: 0;

                transform: rotateY(90deg);
                transform-origin: center left;
            }

            .right-face {
                right: 0;

                transform: rotateY(-90deg);
                transform-origin: center right;
            }

            .bottom-face,
            .top-face {
                width: 100%;
                height: 20px;
                left: 0;
            }

            .top-face {
                top: 0;

                transform: rotateX(-90deg) translateX(0%);
                transform-origin: top center;
            }

            .bottom-face {
                bottom: 0;

                transform: rotateX(90deg) translateX(0%);
                transform-origin: bottom center;
            }




            // -webkit-transform-origin: 50% 0% 0px;
            // -webkit-animation: rotate 5s linear;
            // -webkit-backface-visibility: hidden;

            // -webkit-perspective: 1000px;
            // -webkit-transform-style: preserve-3d;
            // transition: all 2s linear;


            // &:hover {
            //     -webkit-transform: rotateY(180deg);
            // }

            // span.front-face {
            //     // -webkit-transform-origin: 50% 0% 0px;

            //     -webkit-backface-visibility: hidden;
            //     // -webkit-transform: rotateY(0deg);
            //     // -webkit-animation: rotate 5s linear infinite;

            //     display: block;
            //     width: 100%;
            //     height: 100%;
            //     background-color: red;

            //     position: absolute;
            //     top: 0;
            //     left: 0;

            // }

            // span.back-face {
            //     // -webkit-transform-origin: 0% 0px 0px;
            //     // -webkit-transform-style: preserve-3d;

            //     -webkit-backface-visibility: hidden;

            //     -webkit-transform: rotateY(180deg);
            //     // -webkit-animation: rotate 5s linear infinite;
            //     display: block;
            //     width: 100%;
            //     height: 100%;
            //     background-color: green;

            //     position: absolute;
            //     top: 0;
            //     left: 0;
            //     z-index: 1;

            // }


            // &:after {
            //     display: block;
            //     content: '';
            //     width: 100%;
            //     height: 100%;
            //     background-color: pink;
            //     -webkit-transform: rotateY(180deg);
            //     -webkit-backface-visibility: hidden;
            //     -webkit-transform-style: preserve-3d;
            //     position: absolute;
            //     top: 0;
            //     left: 0;

            //     z-index: -1;
            // }

        }
    }

}

@-webkit-keyframes rotate {
    0% {
        -webkit-transform: rotateY(0deg);
    }

    25% {
        -webkit-transform: rotateY(-90deg);
    }

    50% {
        -webkit-transform: rotateY(-180deg);
    }

    75% {
        -webkit-transform: rotateY(-270deg);
    }

    100% {
        -webkit-transform: rotateY(-360deg);
    }
}

@keyframes changeColors {
    @for $i from 1 through 10 {
        $perc: $i * 10%;
        #{$perc} {
            @if $i < 5 {
                background-color: darken($color-bg, $perc);
            } else {
                background-color: lighten($color-bg, 10% * (10 - $i));
            }

        }
    }
}


@keyframes spin-vertical {
    from {
        transform: rotateX(0) rotateY(0);
    }
    to {
        transform: rotateX(-360deg) rotateY(-360deg);
    }
}
